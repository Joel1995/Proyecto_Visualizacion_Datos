<!DOCTYPE html>
<html Lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible"
  content="IE=edge">
  <meta name="viewport" content="width=device-width,
  initial-scale=1.0">
  <title> Proyecto Visualizacion de Datos</title>
  <link rel="stylesheet" href="styles.css">

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3plus/1.9.2/d3plus.full.min.js"></script>
  
</head>
<body>
  <div class="principal">Selección de Características mediante Clustering  </div>
  <br>
  <b>Autor:</b> Joel Alexander Coronel Quinaluisa <br>
  <b>Url:</b> <a href= "https://js-oipujz.stackblitz.io">https://js-oipujz.stackblitz.io</a><br>
  <b>Google Colab:</b> <a href= "https://drive.google.com/file/d/1tNwk3ZZ0x9jaczLvqYj51p8vbfxK8wvc/view?usp=sharing">https://drive.google.com/file/d/1tNwk3ZZ0x9jaczLvqYj51p8vbfxK8wvc/view?usp=sharing</a><br>
  <b>GitHub:</b> <a href= "https://github.com/Joel1995/Proyecto_Visualizacion_Datos.git">https://github.com/Joel1995/Proyecto_Visualizacion_Datos.git</a><br>
  <b>Fuente:</b> <a href="https://drive.google.com/file/d/1Rb_7eNacmktJM3RqETQmSLysXYjk5EDG/view">https://drive.google.com/file/d/1Rb_7eNacmktJM3RqETQmSLysXYjk5EDG/view</a><br>
  <b>Fecha:</b> 22/11/2022 
  <br>
  <div class="secundario1">INTRODUCCIÓN</div>
  El ejemplo que se va a realizar a continuación proviene de otra asignaura (Machine Learning). Es un ejercicio en el cual nos permite seleccionar las  
  <br>características más relevantes dentro del dataset, mediante clustering. El Dataset a utilizar es de datos del Producto Interno Bruto de los Estados Unidos<br> en el año 2009.
 
  <div class="secundario1">OBJETIVOS</div>
  <b>*</b>  Obtener una visión global de los datos y su respectiva correlación en los mismos.
  <br><br>
  <b>*</b>  Observar las relaciones de similitud entre el desarrollo de las variables.
  <br><br>
  <b>*</b>  Descubrir que elementos son de tipo outliers, utilizando diferentes algoritmos de clustering.

  <div class="secundario2">GRÁFICAS CON GOOGLE SHEETS</div>

  Para entender de mejor manera nuestra data podríamos presentar las primeras 5 filas, en forma de tabla, la siguiente tabla fue realizada en Google Colab

  <img src="https://raw.githubusercontent.com/Joel1995/Datos_Caja_Bigotes/main/tabla.jpg"/>
  <center><b>Tabla 1. </b>Características del datast a trabajar (Google Colab)</center>
  <br>

  De igual manera podemos usar la herramiente Datawrapper para realizar la tabla y mostrar las primeras 5 filas.

  <iframe title="" aria-label="Table" id="datawrapper-chart-2xPCg" src="https://datawrapper.dwcdn.net/2xPCg/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="337" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
  </script>
  <center><b>Tabla 2. </b>Características del datast a trabajar (Datawrapper)</center>
  <br>
  <br>

  De igual manera se puede observar mediante un gráfico de barras las características de cada estado de EEUU, como por ejemplo Alabama y California
  <center>
  <iframe width="722" height="445" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTDJ_qhkAYoLYCRBih-Cok7MSbU3x7Vqy5A7P0lDgHlH1Ibw4CENjMcMAP_4XYEXRkOqOymMBj-TqnJ/pubchart?oid=202835745&amp;format=interactive"></iframe></center>
  <center><b>Figura 1. </b>Características del estado de Alabama</center>

  <br>

  <center>
  <iframe width="722" height="445" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTDJ_qhkAYoLYCRBih-Cok7MSbU3x7Vqy5A7P0lDgHlH1Ibw4CENjMcMAP_4XYEXRkOqOymMBj-TqnJ/pubchart?oid=526135954&amp;format=interactive"></iframe></center>
  <center><b>Figura 2. </b>Características del estado de California</center>
  <br>

  Se puede observar que las variables más altas en PIB, coinciden en los dos estados que se graficaron anteriormente, dichas variables son: Manufacturing, Finance, Buss. Services, State y Education. Con lo cual se puede llegar a la conclusión de que los dos estados actualmente pueden estar en un nivel económico similar, debido a que han invertido en las mismas áreas de desarrollo.
  <br>
  Adicionalmente podemos graficar los boxplot, un histograma o gráfico circular, de las variables con mayor número de PIB, las mismas que fueron mencionadas anteriormente; con lo cual podríamos observar a modo de porcentaje, cual de todos los estados ha invertido más dinero en dichas variables. Primero empezaremos con la variable manufacturing
  <br>
  <center><iframe width="600" height="371" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTDJ_qhkAYoLYCRBih-Cok7MSbU3x7Vqy5A7P0lDgHlH1Ibw4CENjMcMAP_4XYEXRkOqOymMBj-TqnJ/pubchart?oid=631091330&amp;format=interactive"></iframe></center>
  <center><b>Figura 3. </b>Diagrama circular de la variable Manufacturing</center>
  <br>
  De esta manera observamos que California es el estado con mayor PIB en el área de Manofactura. Si seguimos realizando uno por uno los gráficos en Google Sheets, el mismo podría tornarse un poco tedioso, para lo cual es mejor compartir nuestro Google Sheets y realizar todos los graficos circulares de una manera mucho más rápida a través de DataWrapper.

  <div class="secundario2">GRÁFICA CON DATAWRAPPER</div>
  <br>
  <br>
  <br>
  <center><iframe width="600" height="371" title="   Variables con mayor número de PIB" aria-label="Multiple Pies" id="datawrapper-chart-DV1Mf" src="https://datawrapper.dwcdn.net/DV1Mf/2/" scrolling="no" frameborder="0" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
  </script></center>
  <center><b>Figura 4. </b>Variables con la mayor inversión para su PIB</center>
  <br>
  <br>

  <div class="secundario2">GRÁFICAS CON D3.PLUS</div>
  Teniendo en cuenta las cinco características graficadas anteriormente vamos a observar dentro de ellas si existe outliers, esto lo realizaremos con un gráfico de boxplot, utilizando D3.plus, para lo cual necesitamos un archivo .JSON el mismo nos copiamos con la ayuda de Google Colab solo es necesario mandar a mostrar de las columnas de las cinco variables, posteriormente copiar la información de tipo JSON de la tabla dibujada.
  <br>
  <br>

  <h2>Boxplot de las variables con mayor PIB </h2>
  <center> <div id="viz4"></div></center>
  <center><b>Figura 5. </b>Variables con la mayor inversión para su PIB</center>
  <br>
  <br>

  <div class="secundario2">GRÁFICAS CON GOOGLE COLAB</div>
  <h2>Correlación entre variables </h2>
  <br>
  Con el fin de que obtener un mejor rendimiento en el algoritmo de clustering será necesario identificar aquellas variables que son redundantes, es decir, se puede asumir que representan lo mismo, en este caso se puede utilizar el análisis de correlaciones.
  <br>
  <br>
  <center><img src="https://raw.githubusercontent.com/Joel1995/Datos_Caja_Bigotes/main/correlaci%C3%B3n.png"/></center>
  <center><b>Figura 6. </b>Correlación de variables</center>
  <br>
  Las variables están correlacionadas entre ellas, pero no demasiado (no llega a 1) esto puede hacer que las sigamos teniendo en cuenta aunque hay que ser consciente que algunas de ellas pueden ser muy parecidas.
  <br>
  <br>
  <br>
  <h2>Análisis de componentes principales </h2>
  <br>
  Con el fin de observar como están relacionadas las variables también podemos hacer una representación en PCA de las mismas
  <br>
  <br>
  <center><img src="https://raw.githubusercontent.com/Joel1995/Datos_Caja_Bigotes/main/PCA.png"/></center>
  <center><b>Figura 7. </b>Análisis de componentes principales</center>
  <br><br>
  Una vez que hemos verificado que el resultado es fiable podemos ver que muchas de las variables son muy parecidas entre ellas, y son algunas de ellas como Mining, Manufacturing, Finance, State_1 y Buss. Services los que son distintos de las demás y podrían ser las seleccionadas para realizar un clustering posterior.

En este caso no nos interesa observar qué combinación lineal da forma a cada componente ya que no nos interesa seleccionar aquellos estados que son más relevantes.
<br><br><br>
<h2>Clustering jerárquico </h2>
<br>
Dado que tenemos pocos elementos que estudiar podemos utilizar clustering jerárquico para observar las relaciones de similitud entre el desarrollo de las variables. Aquellas grupos de variables que sean similares entre ellas pueden ser resumidas escogiendo una de ellas y de esa forma reduciríamos la dimensionalidad del conjunto de datos.

Para evitar la maldición de la dimensionalidad se puede hacer el clustering con los resultados del análisis de componentes principales, aunque hay que ser precavido ya que aunque reducida, existe perdida de variabilidad en los datos cuando se hace la proyección.
<br><br>
<center><img src="https://raw.githubusercontent.com/Joel1995/Datos_Caja_Bigotes/main/clustering.png"/></center>
<center><b>Figura 8. </b>Matriz de Distancia</center>
<br><br><br>

Al graficar la matriz de distancia podemos ver que las variables entre si no son demasiado parecidas, es más parece que hay hay cierta variablidad entre ellas salvo ciertos grupos ("parejas") de variables
<br><br>
<center><img src="https://raw.githubusercontent.com/Joel1995/Datos_Caja_Bigotes/main/Dendograma.png"/></center>
<center><b>Figura 9. </b>Dendograma de todas las variables</center>
<br><br><br>
Hemos utilizado Single Link con el propósito de aislar rápidamente aquellos elementos que son outliers y que van a ser las características más significativas, en este caso *Finance*, *Manufacturing* y *Mining*. Luego se distinguen dos grupos, uno de propósito general y otro con (Education), (Buss. Services), (State.1)

<br><br>
<center><img src="https://raw.githubusercontent.com/Joel1995/Datos_Caja_Bigotes/main/clusteringVariables.png"/></center>
<center><b>Figura 10. </b>Clustering del dataset</center>
<br><br><br>

<h2>DBSCAN</h2>
<br><br>
Vamos a identificar elementos outliers mediante la utilización de DBSCAN. El propósito de identificar ouliter es aislar aquellas características que son diferentes a los demás y que nos pueden ayudar a distinguir a los diferentes elementos a los que representan. Vamos a establecer un rango amplio de pruebas teniendo en cuenta que buscamos aislar elementos diferentes a los demás.
<br><br>
<center><img src="https://raw.githubusercontent.com/Joel1995/Datos_Caja_Bigotes/main/DBSCAN.png"/></center>
<center><b>Figura 11. </b>Clustering a través de DBSCAN</center>
<br><br><br>
Y aunque podríamos proceder a su intepretación en este caso lo que vamos a hacer es identificar aquellos elementos que son outliers. 
<br><br>
<div class="secundario2">GRÁFICA CON DATAWRAPPER</div>

<iframe title="9 Elementos con datos Outliers" aria-label="Table" id="datawrapper-chart-c6dnz" src="https://datawrapper.dwcdn.net/c6dnz/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="508" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
</script>
<center><b>Tabla 3. </b>Variables con datos Outliers</center>
<br><br><br>

<div class="secundario1">CONCLUSIONES</div>
<b>*</b>  A través de técnicas como Clustering jerárquico, DBSCAN y PCA se puede descubrir relaciones entre las variables, encontrar las variables que tengan más datos de tipo outliers.
<br><br>
<b>*</b>  Técnicas de un aprendizaje no supervizado pueden ser muy útiles para un preprocesamiento de los datos.
<br><br>
<b>*</b>  A pesar que se tenga un dataset con salida o etiqueta, se puede utlizar modelos de tipo no suervizado para su limpieza y elección de las variables más importantes, con lo cual aseguramos la obtención posterior de un buen modelo de aprendizaje supervizado.

</body>
</html>

